<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pxe on Shell&#39;s Home</title>
    <link>http://shell909090.org/tags/pxe/</link>
    <description>Recent content in Pxe on Shell&#39;s Home</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>CC-BY-SA4.0</copyright>
    <lastBuildDate>Tue, 31 Jan 2012 03:14:14 +0800</lastBuildDate>
    <atom:link href="http://shell909090.org/tags/pxe/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>PXE模式使用openwrt网络安装debian</title>
      <link>http://shell909090.org/blog/archives/2076/</link>
      <pubDate>Tue, 31 Jan 2012 03:14:14 +0800</pubDate>
      
      <guid>http://shell909090.org/blog/archives/2076/</guid>
      <description>&lt;p&gt;废话不说，上干货。 &lt;div&gt;    首先，禁用arptables。当然，如果你没开这个防火墙，那么没必要。其次，注意你的openwrt必须有udisk，否则空间相差太多，根本没有实现的可能。&lt;/div&gt;&lt;div&gt;    然后，如果你用的是新版的rom，应该在/etc/init.d/dnsmasq里面看到，dnsmasq()这个函数里面有。&lt;/div&gt;&lt;div&gt;&lt;div&gt;        append_parm &amp;quot;$cfg&amp;quot; &amp;quot;tftp_root&amp;quot; &amp;quot;&amp;ndash;tftp-root&amp;quot;&lt;/div&gt;&lt;/p&gt;

&lt;div&gt;        append_parm &amp;quot;$cfg&amp;quot; &amp;quot;dhcp_boot&amp;quot; &amp;quot;--dhcp-boot&amp;quot;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;    如果没有，加一下，有的话说明原生支持。下面可以直接修改。&lt;/div&gt;&lt;div&gt;    dnsmasq是一个dhcp/dns双重服务器，而pxe引导的第一步就是支持bootp协议。这个选项在/etc/config/dhcp里面。config dnsmasq一节上，增加。&lt;/div&gt;

&lt;div&gt;&lt;div&gt;        option &amp;#39;dhcp_boot&amp;#39; &amp;#39;pxelinux.0&amp;#39;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;    重启dnsmasq，完成bootp准备。&lt;/div&gt;&lt;div&gt;    然后，安装tftpd-hpa，opkg update，opkg install tftpd-hpa。这是一个tftp服务器，默认不启动。如果你打算让pxe引导模式持久化，那么就改为默认启动，同时永久关闭arp防火墙。在/var/tftpd-hpa里面，可以看到tftpd的根路径。从参考3的的连接里面，你可以找到合适的一个下载路径，下载netboot.tar.gz到这个文件。解压后，可以看到pxelinux.0，这个和上面的pxelinux.0相对应。这是pxelinux的组件，隶属于syslinux项目，可以用来完成启动。&lt;/div&gt;

&lt;div&gt;    这样，就完成了安装的所有准备工作。你可以找一个设备实验一下，应当可以完成网络安装的步骤。&lt;/div&gt;&lt;div&gt;    另外，如果需要启动选择amd64或者是i386，或者更进一步定制。那么需要下载其他镜像，自己生成pxelinux.cfg这个目录中的内容。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;1. PXE &lt;a href=&#34;http://wiki.debian.org/PXE&#34; target=&#34;_blank&#34;&gt;http://wiki.debian.org/PXE&lt;/a&gt;&lt;/div&gt;

&lt;p&gt;&lt;div&gt;2. NetbootPXE &lt;a href=&#34;http://wiki.debian.org/DebianInstaller/NetbootPXE&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;http://wiki.debian.org/DebianInstaller/NetbootPXE&#34;&gt;http://wiki.debian.org/DebianInstaller/NetbootPXE&lt;/a&gt;&lt;/a&gt;&lt;/div&gt; &lt;div&gt;3. netinst &lt;a href=&#34;http://www.debian.org/distrib/netinst&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;http://www.debian.org/distrib/netinst&#34;&gt;http://www.debian.org/distrib/netinst&lt;/a&gt;&lt;/a&gt; &lt;/div&gt;&lt;div&gt;4. 配置pxe，安装debian和ubuntu &lt;a href=&#34;http://my.unix-center.net/~whtbie/wordpress/?p=290&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;http://my.unix-center.net/~whtbie/wordpress/?p=290&#34;&gt;http://my.unix-center.net/~whtbie/wordpress/?p=290&lt;/a&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>