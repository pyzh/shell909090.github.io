<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Filesystem on Shell&#39;s Home</title>
    <link>http://shell909090.org/tags/filesystem/</link>
    <description>Recent content in Filesystem on Shell&#39;s Home</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 15 Aug 2011 10:07:03 +0800</lastBuildDate>
    <atom:link href="http://shell909090.org/tags/filesystem/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>linux下的文件系统选型</title>
      <link>http://shell909090.org/blog/archives/1883/</link>
      <pubDate>Mon, 15 Aug 2011 10:07:03 +0800</pubDate>
      
      <guid>http://shell909090.org/blog/archives/1883/</guid>
      <description>&lt;p&gt;贝壳原来一直认为文件系统可以随便选，结果最近吃了两次苦头。一个是btrfs对虚拟机支持不良，另一个是特定情况下xfs性能比ext3高20倍。痛定思痛，打算列一下文件系统选型的方法和依据，欢迎拍砖。&lt;div&gt;    下面我列一下纳入参考的文件系统，当然，ntfs就不要出来搞基了，玩嵌入式/光盘live之类的朋友也不要来凑热闹了阿。&lt;a href=&#34;http://zh.wikipedia.org/wiki/Btrfs&#34; target=&#34;_blank&#34;&gt;btrfs&lt;/a&gt;(&lt;a href=&#34;http://www.ibm.com/developerworks/cn/linux/l-cn-btrfs/&#34; target=&#34;_blank&#34;&gt;简介&lt;/a&gt;), &lt;a href=&#34;http://zh.wikipedia.org/wiki/Ext3&#34; target=&#34;_blank&#34;&gt;ext3&lt;/a&gt;, &lt;a href=&#34;http://zh.wikipedia.org/wiki/Ext4&#34; target=&#34;_blank&#34;&gt;ext4&lt;/a&gt;(&lt;a href=&#34;http://www.ibm.com/developerworks/cn/linux/l-anatomy-ext4/&#34; target=&#34;_blank&#34;&gt;简介&lt;/a&gt;), &lt;a href=&#34;http://en.wikipedia.org/wiki/JFS_(file_system)&#34; target=&#34;_blank&#34;&gt;jfs&lt;/a&gt;(&lt;a href=&#34;http://www.ibm.com/developerworks/cn/linux/filesystem/jfs/jfs/&#34; target=&#34;_blank&#34;&gt;简介&lt;/a&gt;), &lt;a href=&#34;http://zh.wikipedia.org/wiki/ReiserFS&#34; target=&#34;_blank&#34;&gt;reiserfs&lt;/a&gt;, &lt;a href=&#34;http://zh.wikipedia.org/wiki/XFS&#34; target=&#34;_blank&#34;&gt;xfs&lt;/a&gt;，基本涵盖常用文件系统。最下面加入ntfs和zfs对比，实际上不参与选型。以下进制换算为1024，大小依次为KB,MB,GB,TB,PB,EB,ZB。&lt;/div&gt;&lt;/p&gt;

&lt;div&gt;&lt;font size=&#34;3&#34;&gt;











 &lt;table frame=&#34;VOID&#34; cellspacing=&#34;0&#34; cols=&#34;10&#34; rules=&#34;NONE&#34; border=&#34;0&#34;&gt; &lt;colgroup&gt;&lt;col width=&#34;107&#34;&gt;&lt;col width=&#34;82&#34;&gt;&lt;col width=&#34;87&#34;&gt;&lt;col width=&#34;94&#34;&gt;&lt;col width=&#34;99&#34;&gt;&lt;col width=&#34;86&#34;&gt;&lt;col width=&#34;109&#34;&gt;&lt;col width=&#34;66&#34;&gt;&lt;col width=&#34;86&#34;&gt;&lt;col width=&#34;76&#34;&gt;&lt;/colgroup&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td width=&#34;107&#34; height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;文件系统&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;82&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;btrfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;87&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;ext3&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;94&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;ext4&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;99&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;jfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;86&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;reiserfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;109&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;reiser4&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;66&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;xfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;86&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;ntfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;76&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;zfs&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;最大卷容量&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;16 EB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;32 TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;1 EB (16TB)&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;32 PB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;16 TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;??&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;16 EB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;256 TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;16 EB&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;最大文件容量&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;16 EB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;2 TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;16 TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;4 PB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;8TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;8TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;8 EB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;16 TB&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;16 EB&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;目录结构&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;B tree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;list/tree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;list/Htree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;B tree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;B+ tree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;dancing B* tree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;B+ tree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;B+ tree&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;hash table&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;文件分配&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;extents&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;bitmap/table&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;bitmap/extents&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;bitmap/extents&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;bitmap&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;??&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;extents&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;bitmap&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;??&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;ACLS&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;ACLS only&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;checksum&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;journal&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;透明压缩&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Plugin&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;透明加密&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Plugin&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;online defrag&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;shrink&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align
=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;Offline resize&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Offline&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;Yes&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;No&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;特性&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;SSD&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;Stream&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;&lt;br /&gt;&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;&lt;/font&gt;&lt;div&gt;    首先，文件系统选择上要考虑现实性和支持情况。如果你希望得到广泛的支持，在移动硬盘上被多个系统挂载，应用于老内核，或者不使用/boot分区，那么可选项目基本只有ext3。作为老牌文件系统，ext3的支持是最广泛的，工具组也相对全面。无论其他文件系统拥有多大的优势，在现实情况考虑下往往会败给ext3，基本就是因为广泛的使用和支持。另外，btrfs我所知还没有fsck工具，出了问题全看RP，而且在上面使用虚拟机速度特别慢。reiser4作者目前在监狱中，出了问题能否获得支持全靠RP。jfs用的人相对xfs少一些，也比较不活跃。这些虽然并不出现在数据上，但是最好特别注意。&lt;/div&gt;

&lt;div&gt;    其次，文件系统的选择要考虑必要特性。例如如果你希望使用SSD支持，你可选的项目就只有btrfs。如果需要透明加密，那只有reiser4。当然，在决定必要特性前，请仔细考虑，自己是否真的必须使用这些特性。为了一个不必须的特性选用一个不合适的文件系统会付出极大代价。linux下文件系统还是比较单调和弱小了点，基本不支持透明压缩，全部不支持透明加密，ext两兄弟更是没有完全实现Btree目录结构（ext4其实有用Htree，一种改过的Btree，不过为了兼容ext3，好像升级来的目录不使用）。不过好佳在，大部分都支持online defrag/growing，否则不如一头撞死算了。ext3/4, btrfs是支持shrink的，但是jfs, xfs只支持growing，reiser4必须offline shrink。xfs的growing在1T（一说2T）以上有点问题，非64位内核在1T以上可能无法创建inode。本来是会在1T内创建inode，使用高位空间。但是growing的时候可能地位空间已经满了，会报没有空间的错误。解决方案是将老文件移出再移回，或者看看用inode64参数是否解决。如果你确定需要shrink，最佳选项是使用ext4。另外补充一点，ntfs的online shrink也不是完美无缺，他只能shrink到未被使用的地方。也就是说，如果有不可移动文件，有可能就无法shrink到以下内容。&lt;/div&gt;

&lt;p&gt;&lt;div&gt;   第三个要确定的问题，是你的系统服务的数据大小。即使是表里面最小的ext3，一次也可以使用2T的卷。贝壳全部数据加起来大概2T多一点，家用绝对不成问题。然而作为商业用途，动辄数百T的数据正常到不能再正常，ext3就可以直接出局了，同理reiser4也直接出局。jfs是唯一没有达到EB级别的文件系统，不过32PB也可堪一用，大部分商业系统都到不了这个量级。在管理大型卷的时候，bitmap比extents会消耗更大的空间进行管理。因此不支持bitmap的文件系统可以少考虑，ext3/4虽说支持extents，但是ext3中默认不开启，必须手工指定挂载参数。ext4中一旦启用extents，就无法兼容于ext3。&lt;/div&gt;&lt;/p&gt;

&lt;div&gt;    最后是性能考量。在贝壳在公司的测试中，xfs会性能高于ext3达20倍。因为根据&lt;a href=&#34;http://www.evanhoffman.com/evan/2011/07/22/benchmarking-disk-io-on-ext3-vs-ext4-with-fio/&#34; target=&#34;_blank&#34;&gt;这篇文章&lt;/a&gt;，xfs的随机写性能比ext兄弟差很多，但是顺序写的性能比ext要强上无数倍。我们的业务大部分情况下是顺序写，因此差异非常明显。所以，当你的特性要求差不多的时候，性能和稳定性是另一个考量因素。&lt;/div&gt;

&lt;div&gt;







&lt;table frame=&#34;VOID&#34; cellspacing=&#34;0&#34; cols=&#34;7&#34; rules=&#34;NONE&#34; border=&#34;0&#34;&gt; &lt;colgroup&gt;&lt;col width=&#34;107&#34;&gt;&lt;col width=&#34;99&#34;&gt;&lt;col width=&#34;106&#34;&gt;&lt;col width=&#34;101&#34;&gt;&lt;col width=&#34;103&#34;&gt;&lt;col width=&#34;99&#34;&gt;&lt;col width=&#34;92&#34;&gt;&lt;/colgroup&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td width=&#34;107&#34; height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;文件系统&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;99&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;btrfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;106&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;ext3&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;101&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;ext4&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;103&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;jfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;99&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;reiserfs&lt;/font&gt;&lt;/td&gt; &lt;td width=&#34;92&#34; align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;xfs&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;全填充速率&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1m22.083s&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1m34.821s&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1m15.495s&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1m5.819s&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1m34.310s&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1m38.953s&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;全填充利用率&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;0.8945&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;0.9065&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;0.9047&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;0.9959&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;0.9927&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;0.9918&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;大文件效率&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;14.676&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;17.435&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;10.7255&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;13.7493&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;14.319&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;12.7093&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;大文件删除&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2.693&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;5.262&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2.422&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.037&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1.802&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.296&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;小文件效率&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;9.949&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;5.131&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#3333ff&#34;&gt;2.7866&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;40.949&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;13.605&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;8.978&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;小文件删除&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;6.737&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;10.7227&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#3333ff&#34;&gt;1.39&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;16.116&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2.756&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;5.653&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;循环列文件&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.124&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.089&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.002&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.094&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.19&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;0.099&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;大文件read&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2046206&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1931451&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1946598&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2003912&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;1537752&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1970242&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;大文件write&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;1279625&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;565960&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;926461&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;962617&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;446841&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;812466&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;大文件rndread&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2012771&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1926287&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1934420&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1985273&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1490199&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1976056&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;大文件rndwrite&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1380404&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;1187010&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1294689&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;1446011&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1308210&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;1384804&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;小文件read&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;2375893&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;2934815&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;3019732&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2708437&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;2559371&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;2236197&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;小文件write&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;926602&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;526469&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;681710&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;844237&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;395810&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;939536&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;小文件rndread&lt;/font&gt;&lt;/
td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;3324647&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;3544566&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;2702282&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;3737551&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;4045575&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;2666753&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td height=&#34;19&#34; align=&#34;LEFT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;小文件rndwrite&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#FF0000&#34;&gt;910277&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1525970&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1244240&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#0000FF&#34;&gt;1910756&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1790393&lt;/font&gt;&lt;/td&gt; &lt;td align=&#34;RIGHT&#34; valign=&#34;BOTTOM&#34;&gt;&lt;font color=&#34;#000000&#34;&gt;1311261&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;    以上数据，在公司的debian testing上测定。机器型号Dell Inspiron 560s，CPU Dual-Core E5700，4G内存，硬盘WDC WD3200AAKS-75L9A0。系统是debian testing，内核2.6.39-2-amd64。全填充是用time dd if=/dev/zero of=abc来测试填满一个分区的速度和容量。大文件是四个ISO文件，共1.3G，从tmpfs上复制到目标设备上的时间平均值，三次平均。小文件是pypy/python2.7/linux kernel2.6.39所有源码，总计49242个文件，629M。从tmpfs上复制到目标设备的时间平均值，三次平均。循环列文件是通过time find .测试效率。下面测试单位为bytes/sec，是iozone测试结果。&lt;/div&gt;

&lt;div&gt;    首先是文件利用率，btrfs/ext3/ext4会消耗10%左右的空间作为系统消耗。如果你需要比较高的磁盘利用率，请不要考虑这三种系统。也许你会认为，放文件又不会放满，必须空出部分来才能减少文件碎片。实际上，被消耗掉的空间也并不是白白消耗，你的所有数据，都会增加10%的系统消耗空间。因此ntfs的防碎片阀值（为了防止碎片化，磁盘使用率不应当高于）大约是85%，而ext3就只有75%-80%。&lt;/div&gt;&lt;div&gt;    其次是大文件效率，除了ext3不予考虑外，其余系统都过的去。btrfs/ext4在删除大文件的时候耗时略多，大概是和管理特性有关。&lt;/div&gt;

&lt;div&gt;    第三是小文件效率。如果你需要用小文件，千万不要考虑jfs，慢到我无法相信。ext4比btrfs和xfs快了四倍左右，非常适合操作大量小文件。例如源码编译，有blog说ext4比xfs快数倍。&lt;/div&gt;&lt;div&gt;    最后是循环列文件效率，同样，ext4一枝独秀，其余水准相去不远。&lt;/div&gt;&lt;div&gt; &lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;    综合以上几个考量，linux中比较推荐的文件系统是ext4, xfs两种。大量文件存储用xfs，小规模文件密集使用用ext4。在特定情况下，可以使用btrfs（它的特性非常全）或者jfs（小文件操作慢，但是随机读写快）。兼容考量下，可以用ext3。不推荐使用reiser4。&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;参考：&lt;/div&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&#34;http://www.ilsistemista.net/index.php/linux-a-unix/6-linux-filesystems-benchmarked-ext3-vs-ext4-vs-xfs-vs-btrfs.html&#34; target=&#34;_blank&#34;&gt;Linux filesystems benchmarked: EXT3 vs EXT4 vs XFS vs BTRFS - Bonnie++ random seeks and file handling&lt;/a&gt;&lt;/li&gt;



 &lt;li&gt;&lt;a href=&#34;http://www.kuqin.com/linux/20090204/34063.html&#34; target=&#34;_blank&#34;&gt;Ext4 ReiserFS Btrfs 等7种文件系统性能比拼&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&#34;http://www.debian-administration.org/articles/388&#34; target=&#34;_blank&#34;&gt;Filesystems (ext3, reiser, xfs, jfs) comparison on Debian Etch&lt;/a&gt;&lt;/li&gt;



 &lt;li&gt;&lt;span style=&#34;font-family:Verdana, &amp;#39;Lucida Grande&amp;#39;, &amp;#39;Lucida Sans Unicode&amp;#39;, Tahoma, Arial, sans-serif;font-size:12px;line-height:19px;background-color:rgb(244, 244, 238)&#34;&gt;&lt;a href=&#34;http://lists.mysql.com/benchmarks/131&#34; target=&#34;_blank&#34;&gt;XFS, Reiser, JFS &amp;amp; ext3 performance on Suse 9 Enterprise&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;



 &lt;li&gt;&lt;a href=&#34;https://securfox.wordpress.com/tag/filesystem-jfs-xfs-ext3/&#34; target=&#34;_blank&#34;&gt;Filesystems (jfs, xfs, ext3) comparison on Debian&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt; &lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>linux下多种文件系统在小规模追加写下的性能</title>
      <link>http://shell909090.org/blog/archives/1877/</link>
      <pubDate>Tue, 09 Aug 2011 16:56:06 +0800</pubDate>
      
      <guid>http://shell909090.org/blog/archives/1877/</guid>
      <description>&lt;p&gt;因为公司需要，所以贝壳最近做了一个比较。多种文件系统，在小规模写下的性能。 &lt;div&gt;    首先要说明的一点是，贝壳的blog为了保持便于传播，因此惯例是不贴图。这次的图，全部在blog同空间的相册上，通过引用方式放原始连接，可以保持原味查看。我知道中国不少站长复制粘帖大法厉害，不过大家手下留情，可以的话自己找个图床，贝壳可以提供所有原始图片。万一相册过载，blog也会跟着挂掉，谢谢谢谢。&lt;/div&gt;&lt;div&gt;    这次的内容，对于有些类型的应用很有价值，具体哪些——懂行的自然了解，就不多嘴了。测试的目标，是测试在同样的环境下，不同文件系统对于散碎的写文件的支撑能力。测试方法如下。&lt;/div&gt;&lt;/p&gt;

&lt;div&gt;    首先，贝壳写了一个程序，可以开N个子进程。每个进程打开4个文件，分别写出16, 32, 64, 256字节大小的块。间隔m秒写一次。当磁盘吞吐耗尽的时候，大量的线程会排队在iowait上，因此造成iowait和loadavg快速上升。当loadavg明显超过CPU数时，宣告文件系统压力达到极限。具体测试方法，使用自己设计的压力系统对磁盘造成压力，然后通过压力读取系统读取系统参数，输出到文件。通过一个filter重新组织文件，计算移动平均数等。最后通过gnuplot输出图像。由于具体有些涉及公司业务，贝壳避嫌，就不贴出源码了。draw.plot的代码在最后。&lt;/div&gt;

&lt;div&gt;    这个业务情况的核心问题是，对同一个文件，在一段时间内会写多次。正常情况下，这些数据会堆积在系统的Dirty区域，直到dirty_ratio的限制到了，或者dirty_expire_centisecs的限制到了，系统才会开始强制写出。否则每隔dirty_writeback_centisecs的时间，系统会写出部分数据。虽然理论上说，一个磁盘的IOPS应当在每秒600-700次上下，但是实际上并不是只能支撑150个并发的。然而设计的好的文件系统，支撑并发数会比设计的差的文件系统明显高。&lt;/div&gt;

&lt;div&gt;    这个测试环境和实际的另一个差异，在于读写平衡上。这个业务和大部分的日志系统是很类似的（其实我们系统的业务就是日志）。但是商业用日志系统的特点是在高散碎文件写的情况下还有高随机读。这点在测试中并没有涉及，测试是单纯的大量文件追加写，请读者自行注意。&lt;/div&gt;&lt;div&gt;    首先是400进程，间隔1秒写出，测试对象是&lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1635&#34; target=&#34;_blank&#34;&gt;ext3&lt;/a&gt;, &lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1641&#34; target=&#34;_blank&#34;&gt;ext4&lt;/a&gt;, &lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1653&#34; target=&#34;_blank&#34;&gt;ntfs&lt;/a&gt;, &lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1650&#34; target=&#34;_blank&#34;&gt;jfs&lt;/a&gt;, &lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1665&#34; target=&#34;_blank&#34;&gt;xfs&lt;/a&gt;, &lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1632&#34; target=&#34;_blank&#34;&gt;btrfs&lt;/a&gt;，基本涵盖常见的linux文件系统。ntfs不属于常见的linux文件系统，本轮只做对比测试。首先可以看到的是ext3糟糕到吐血的表现，磁盘写io只有500上下，400个进程最多有280多个在排队。这货不是坑爹呢么。ext4的结果就正常很多，io在100上下，开始的高开是因为前一个测试的静默时间不足。jfs的结果很搞笑，队列load倒是不高，可是Dirty缓存一路上涨，让人不禁怀疑到底有没有写出。xfs的表现中规中矩，半分钟一次写出，和贝壳机器上的dirty_expire_centisecs相吻合，Dirty也不高。btrfs和jfs的情况类似。&lt;/div&gt;

&lt;div&gt;    上一轮中，筛掉ntfs和ext3，其余进行1000进程，间隔1秒写出测试。测试对象是，&lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1638&#34; target=&#34;_blank&#34;&gt;ext4&lt;/a&gt;, &lt;a&gt;&lt;span&gt;&lt;/span&gt;jfs&lt;span&gt;&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1656&#34; target=&#34;_blank&#34;&gt;xfs&lt;/a&gt;, &lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1628&#34; target=&#34;_blank&#34;&gt;btrfs&lt;/a&gt;。这次ext4也表现出了坑爹的一面，Dirty最高250M多，load也明显超过了2，写io大约在700上下，就此出局。btrfs这次的Dirty控制还不错，在25-40M徘徊，写出也不多。看似情况略好，实际上暴露出btrfs一个非常大的弱点，突发响应能力差，服务不稳定。一次集中写出，就能让排队数飞速上涨。jfs虽然曲线类似，但是队列可从没有超过1。综合考虑，后期平均load也明显超过了2，一样出局。xfs还是一样中规中矩的写出，非常低的io和Dirty。jfs依然是高速上涨的Dirty和超级低的io。&lt;/div&gt;

&lt;div&gt;    测试到这里，只剩下了jfs和xfs。jfs的特点是大量使用Dirty，平均io很低。xfs的特点是Dirty使用比较低，io输出比较平均。不过我们的服务器内核对xfs的支持比jfs要好一点，所以使用xfs已成定局，下面就是测试两者的极限性能而已。&lt;/div&gt;&lt;div&gt;    第三轮的参数是2000个进程，0.75秒间隔。&lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1647&#34; target=&#34;_blank&#34;&gt;jfs&lt;/a&gt;和&lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1659&#34; target=&#34;_blank&#34;&gt;xfs&lt;/a&gt;表现非常相似，让贝壳差点怀疑自己是测试错了东西。核查之后，确实没有。所以就下狠手，测试了一把高压力的。&lt;/div&gt;

&lt;div&gt;    第四轮的参数是3200个进程，0.5秒间隔。从绝对量上，大概是基础测试的16倍。在jfs测试开始后的三分钟内，load上升到了60，宣告出局，因此贝壳这里没有jfs的图像。但是&lt;a href=&#34;http://shell909090.org/album/main.php?g2_itemId=1662&#34; target=&#34;_blank&#34;&gt;xfs&lt;/a&gt;还是完美的顶住了压力。Dirty已经上涨到了80-120M，平均io也到了300。然而平均load只有1左右，最高load也只有1.4。&lt;/div&gt;

&lt;div&gt;    最终测试的参数是4000个进程，0.5秒间隔，基础测试的20倍。xfs的表现万分惊艳，平均io300-400，Dirty100-160M，平均load大约是1，最高也只有2。也就是说，到最后贝壳还是没有测试出xfs的最高压力。&lt;/div&gt;&lt;div&gt;    另外，贝壳也通过iozone对两者进行了测试，结论是，xfs在读写性能上比ext3高一些，但是在随机读写上大幅低于ext3。无论哪个数据，都无法出现这种20倍以上差距的现象。因此贝壳又对文件系统选择发生了兴趣，具体写在下一篇blog上。&lt;/div&gt;

&lt;div&gt;    从最终结论上说，我们确定了xfs比ext3的巨大提升（20倍以上），并准备对xfs进行可用性测试。如果您有什么经验，欢迎和我联系。&lt;/div&gt;&lt;div&gt;-------------draw.plot-------------&lt;/div&gt;&lt;div&gt;set terminal png size 1920,1080&lt;/div&gt;&lt;div&gt;set output &amp;quot;out.png&amp;quot;&lt;/div&gt;&lt;div&gt;set xdata time&lt;/div&gt;

&lt;div&gt;set timefmt &amp;quot;%H:%M:%S&amp;quot;&lt;/div&gt;&lt;div&gt;set y2tics&lt;/div&gt;&lt;div&gt;set origin 0,0&lt;/div&gt;&lt;div&gt;set size 1,1&lt;/div&gt;&lt;div&gt;set multiplot&lt;/div&gt;&lt;div&gt;set origin 0,0.5&lt;/div&gt;&lt;div&gt;set size 1,0.5&lt;/div&gt;&lt;div&gt;plot &amp;#39;out.dat&amp;#39; using 1:2 with lines title &amp;#39;Buffer&amp;#39;,&lt;/div&gt;

&lt;div&gt;     &amp;#39;out.dat&amp;#39; using 1:3 with lines title &amp;#39;Cached&amp;#39;,&lt;/div&gt;&lt;div&gt;     &amp;#39;out.dat&amp;#39; using 1:4 with points title &amp;#39;Dirty&amp;#39; axes x1y2&lt;/div&gt;&lt;div&gt;set origin 0,0&lt;/div&gt;&lt;div&gt;set size 1,0.5&lt;/div&gt;&lt;div&gt;



plot &amp;#39;out.dat&amp;#39; using 1:5 with points title &amp;#39;wio&amp;#39;,&lt;/div&gt;&lt;div&gt;     &amp;#39;out.dat&amp;#39; using 1:6 with lines title &amp;#39;sma_wio&amp;#39;,&lt;/div&gt;&lt;div&gt;     &amp;#39;out.dat&amp;#39; using 1:7 with lines title &amp;#39;loadavg&amp;#39; axes x1y2&lt;/div&gt;

&lt;div&gt;unset multiplot&lt;/div&gt;&lt;div&gt;-------------draw.plot-------------&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>